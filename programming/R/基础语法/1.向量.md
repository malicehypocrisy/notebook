> [!IMPORTANT]
>
> ==元素的数据类型是统一的，可以是整形，数值型（浮点数），字符型（字符串），逻辑型，复数型等等。==
>
> 所有R对象都有其属性，其最重要的两个属性:**_<u>类型(typeof(x))与长度(length(x)</u>_**
>
> length()获取向量长度

#  一、 向量基础

## 1.常用函数

| 函数                                    | 用法                                                         |
| --------------------------------------- | ------------------------------------------------------------ |
| numeric(n)；：                          | 创建长度为n的零向量；5：8 创建向量（5,6,7,8）                |
| c()                                     | 合并多个对象                                                 |
| cumsum()；which()                       | 向量累加和；找到满足条件元素的位置                           |
| seq(from,to,by,length.out,along.with,…) | 创建等差数列<br />from：默认为1<br />by:默认1或-1<br />length.out:设置序列长度 |
| rep(x,time,length.out,each,…)           | 创建重x序列的函数<br />times：重复的次数<br />length.out:设置产生序列的长度<br />each：每个元素分别重复的次数（默认为1） |
| \+、*、/、-、%/%（求商）和%%（取余）    | 按元素逐一进行运算                                           |
| %*%；^                                  | 内积；将第二向量作为第一向量的指数                           |
| %in%;==                                 | &#9312;用左边元素判断是否属于右边元素集合<br />&#9313;用左判断右 |
| all()和any()                            | 报告其参数至少有一个或全部为TRUE                             |
| sort(x,decreasing,na.last,…)            | 排序<br />&#9312;decreasing:默认为FALSE既升序<br />&#9313;na.last:默认为FALSE，若为TRUE，向量中NA放在末尾 |
| order()                                 | 返回排序好的元素的索引，用其结果访问元素                     |
| as.vector()                             | 将矩阵转化为向量，其元素是按列读取的                         |
|                                         |                                                              |
|                                         |                                                              |

## 2.访问向量子集

&#9312;语法

```R
V1=c(1,2,3,4)
v1[2]
#引用2~4个元素
v1[2:4]
#除了第三个之外的元素
v1[-3]
```

* 元素的索引允许重复

* 通过名称索引：x["b"]

* **向量的索引从1开始，连续存储，不能插入或删除，若要添加或删除元素，重新给向量赋值。**

* 使用逻辑向量来访问，输入与向量相同长度的逻辑向量，为TRUE的向量被捕获。

```R
x<-c(88,5,12,13)
#将168插到13的前面
x<-c(x[1:3],168，x[4])
```

## 3.为向量元素命名

```R
x<-c("a"=5,"b"=6)
x<-c(5,6)
names(x)<-c("a","b")
```

* 把向量元素名称赋值为NULL，可以移除元素名称

## 4.[ ]和[[ ]]的区别

* [ ]提取对象的子集，[[ ]]提取对象内的元素。
* [[ ]]只能提取一个元素，因此不能是负数

## 5.自动补齐

**在要求这两个向量具有相同的长度，R会自动重复较短的向量，直到它与另外一个向量长度匹配**

```R
#矩阵在R中按列存储
> x<-matrix(c(1,2,3,4,5,6),nrow=3)
> View(x)
> x+c(1,2)
     [,1] [,2]
[1,]    2    6
[2,]    4    6
[3,]    4    8
```

$$
x+c(1,2)=\begin{bmatrix}
1 & 4 \\
2 & 5 \\
3 & 6 \\
\end{bmatrix}+\begin{bmatrix}
1 & 2 \\
2 & 1 \\
1 & 2 \\
\end{bmatrix}
$$

# 二、矩阵

## 1.基础

### &#9312;创建矩阵

```R
matrix(x,nrow,ncol,byrow,dimnaes,...)
```

* byrow:默认为FALSE（按列填充）
* dimnames:用字符型向量表示矩阵的行名与列名

### &#9313;为矩阵的行列命名

```R
matrix(1:9,nrow=3,byrow=TRUE,dimnames=list(c("r1","r2","r3"),C("c1","c2","c3")))
```

* 创建后再命名

```R
A<-matrix(1:9,nrow=3,byrow=TRUE)
rownames(A)<-c("r1","r2","r3")
colnames(A)<-C("c1","c2","c3")
```

### &#9314;高维数组

```R
#第二个2表示数据有层，每层三行两列，这个参数会形成数组dim属性（用$dim)
tests<-array(data=c(),dim=c(3,2,2))
```

### &#9315;提取

```R
#提取矩阵第2列和第3列
z[,2:3]
#对y的第1、3行赋了新值。
y[c(1,3),]<-matrix(c(1,1,8,12),ncol=2)
#负值索表示删除第二行
y[-2,]
```

###  &#9316;避免意外降维

* .__提取子阵时加上参数drop=FALSE参数防止降维__

* ’['(z,3,2) # 等价于 z [3,2]

* ***as.matrix()函数将其他转化为矩阵***

## 2.常用函数

| 函数                             | 用法                                                         |
| :------------------------------- | ------------------------------------------------------------ |
| %*%                              | 矩阵乘法                                                     |
| rbind();cbind()                  | 按行；列组合可以给矩阵增加列                                 |
| apply ( m, dimcode, f, fargs)    | m为矩阵；dimcode维度编号（__1__为行，__2__为列）；f函数；fargs是可选数据集；默认按列输出。 |
| length(） ；dim(）;ncol();nrow() | 长度；维度属性;行数;列数                                     |
|                                  |                                                              |
|                                  |                                                              |
|                                  |                                                              |

